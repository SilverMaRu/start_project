{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\Input.js"],"names":["input","_keyDownArray","Array","_keyArray","_keyUpArray","onKeyDown","event","keyCode","keyDownIndex","indexOf","keyIndex","push","onKeyUp","tools","removeItem","isKeyDown","isKey","isKeyUp","cc","systemEvent","on","SystemEvent","EventType","KEY_DOWN","KEY_UP","window"],"mappings":";;;;;;AAAA,CAAC,YAAU;AACP,QAAIA,QAAQ,SAARA,KAAQ,GAAU,CAAE,CAAxB;;AAEA,QAAIC,gBAAgB,IAAIC,KAAJ,EAApB;AACA,QAAIC,YAAY,IAAID,KAAJ,EAAhB;AACA,QAAIE,cAAc,IAAIF,KAAJ,EAAlB;;AAGA,QAAIG,YAAY,SAAZA,SAAY,CAASC,KAAT,EAAe;AAC3B,YAAIC,UAAUD,MAAMC,OAApB;AACA,YAAIC,eAAeP,cAAcQ,OAAd,CAAsBF,OAAtB,CAAnB;AACA,YAAIG,WAAWP,UAAUM,OAAV,CAAkBF,OAAlB,CAAf;AACA,YAAGC,eAAe,CAAlB,EAAoB;AAChBP,0BAAcU,IAAd,CAAmBJ,OAAnB;AACH;AACD,YAAGG,WAAW,CAAd,EAAgB;AACZP,sBAAUQ,IAAV,CAAeJ,OAAf;AACH;AACJ,KAVD;;AAYA,QAAIK,UAAU,SAAVA,OAAU,CAASN,KAAT,EAAe;AACzB,YAAIC,UAAUD,MAAMC,OAApB;AACA,YAAGH,YAAYK,OAAZ,CAAoBF,OAApB,IAA+B,CAAlC,EAAoC;AAChCJ,wBAAYU,MAAMC,UAAN,CAAiBX,SAAjB,EAA4BI,OAA5B,CAAZ;AACAN,4BAAgBY,MAAMC,UAAN,CAAiBb,aAAjB,EAAgCM,OAAhC,CAAhB;AACAH,wBAAYO,IAAZ,CAAiBJ,OAAjB;AACH;AACJ,KAPD;;AASAP,UAAMe,SAAN,GAAkB,UAASR,OAAT,EAAiB;AAC/B,YAAIQ,YAAYd,cAAcQ,OAAd,CAAsBF,OAAtB,KAAkC,CAAlD;AACA,YAAGQ,SAAH,EAAa;AACTX,0BAAcS,MAAMC,UAAN,CAAiBV,WAAjB,EAA8BG,OAA9B,CAAd;AACH;AACD,eAAOQ,SAAP;AACH,KAND;;AAQAf,UAAMgB,KAAN,GAAc,UAAST,OAAT,EAAiB;AAC3B,YAAIS,QAAQb,UAAUM,OAAV,CAAkBF,OAAlB,KAA8B,CAA1C;AACA,YAAGS,KAAH,EAAS;AACLf,4BAAgBY,MAAMC,UAAN,CAAiBb,aAAjB,EAAgCM,OAAhC,CAAhB;AACAH,0BAAcS,MAAMC,UAAN,CAAiBV,WAAjB,EAA8BG,OAA9B,CAAd;AACH;AACD,eAAOS,KAAP;AACH,KAPD;;AASAhB,UAAMiB,OAAN,GAAgB,UAASV,OAAT,EAAiB;AAC7B,YAAIU,UAAUb,YAAYK,OAAZ,CAAoBF,OAApB,KAAgC,CAA9C;AACA,YAAGU,OAAH,EAAW;AACPd,wBAAYU,MAAMC,UAAN,CAAiBX,SAAjB,EAA4BI,OAA5B,CAAZ;AACAN,4BAAgBY,MAAMC,UAAN,CAAiBb,aAAjB,EAAgCM,OAAhC,CAAhB;AACAH,0BAAcS,MAAMC,UAAN,CAAiBV,WAAjB,EAA8BG,OAA9B,CAAd;AACH;AACD,eAAOU,OAAP;AACH,KARD;;AAUAC,OAAGC,WAAH,CAAeC,EAAf,CAAkBF,GAAGG,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqDlB,SAArD,EAAgEL,KAAhE;AACAkB,OAAGC,WAAH,CAAeC,EAAf,CAAkBF,GAAGG,WAAH,CAAeC,SAAf,CAAyBE,MAA3C,EAAmDZ,OAAnD,EAA4DZ,KAA5D;AACAyB,WAAOzB,KAAP,GAAeA,KAAf;AACH,CA3DD","file":"Input.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["(function(){\r\n    var input = function(){}\r\n\r\n    var _keyDownArray = new Array();\r\n    var _keyArray = new Array();\r\n    var _keyUpArray = new Array();\r\n\r\n\r\n    var onKeyDown = function(event){\r\n        var keyCode = event.keyCode;\r\n        var keyDownIndex = _keyDownArray.indexOf(keyCode);\r\n        var keyIndex = _keyArray.indexOf(keyCode);\r\n        if(keyDownIndex < 0){\r\n            _keyDownArray.push(keyCode);\r\n        }\r\n        if(keyIndex < 0){\r\n            _keyArray.push(keyCode);\r\n        }\r\n    }\r\n    \r\n    var onKeyUp = function(event){\r\n        var keyCode = event.keyCode;\r\n        if(_keyUpArray.indexOf(keyCode) < 0){\r\n            _keyArray = tools.removeItem(_keyArray, keyCode);\r\n            _keyDownArray = tools.removeItem(_keyDownArray, keyCode);\r\n            _keyUpArray.push(keyCode);\r\n        }\r\n    }\r\n\r\n    input.isKeyDown = function(keyCode){\r\n        var isKeyDown = _keyDownArray.indexOf(keyCode) >= 0;\r\n        if(isKeyDown){\r\n            _keyUpArray = tools.removeItem(_keyUpArray, keyCode);\r\n        }\r\n        return isKeyDown;\r\n    }\r\n\r\n    input.isKey = function(keyCode){\r\n        var isKey = _keyArray.indexOf(keyCode) >= 0;\r\n        if(isKey){\r\n            _keyDownArray = tools.removeItem(_keyDownArray, keyCode);\r\n            _keyUpArray = tools.removeItem(_keyUpArray, keyCode);\r\n        }\r\n        return isKey;\r\n    }\r\n\r\n    input.isKeyUp = function(keyCode){\r\n        var isKeyUp = _keyUpArray.indexOf(keyCode) >= 0;\r\n        if(isKeyUp){\r\n            _keyArray = tools.removeItem(_keyArray, keyCode);\r\n            _keyDownArray = tools.removeItem(_keyDownArray, keyCode);\r\n            _keyUpArray = tools.removeItem(_keyUpArray, keyCode);\r\n        }\r\n        return isKeyUp;\r\n    }\r\n    \r\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, onKeyDown, input);\r\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, onKeyUp, input);\r\n    window.input = input;\r\n})();"]}